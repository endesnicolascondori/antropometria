<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tabla de Errores en el Procedimiento</title>
    <!-- Enlazar los archivos CSS de Bootstrap -->
    <link href="../recursos/css/bootstrap.min.css" rel="stylesheet" >
</head>
<style>
            table td, table th {
        font-size: 12px; /* Puedes ajustar el tamaño de fuente según tus preferencias */
    }

    td{
        font-size: 11.5px!important;
    }

    *{
        margin: 0;
        padding: 0;
    }
    body {
        box-sizing: border-box;
        margin-top: 80px;
    }

    #image-container {
        height: 100vh;
        overflow: auto;
    }

    .image img {
        width: 100%;
        /* object-fit: cover; */
    }

    .image {
        height: 100%; 
        margin-bottom: 20px;
        background-color: lightgray;
        /* background-image: none!important; */
        display: flex;  
    }


    /* *{
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    } */
    button.btn.rounded-circle {
        display: flex;
        justify-content: center;
        align-items: center;
        fill: white;
        width: 40px;
        height: 40px;
    }

    .caja {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
    }

    div.posicionboton {
        position: absolute;
        /* transform: translate(0, -50%); */
        right: 0.3rem;
        top: 0.3rem;
        /* opacity: 0.75; */
    }
   

    .dev {
        height: 100vh;
        overflow-y: scroll;
        width: 100%;
    }


    button.btn.btn-sm.btn-danger {
        fill: white;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 2px;
        border-radius: 50%;
        width: 25px;
        height: 25px;
        margin-top: 0.3rem;
    }
    .input-group-text {
        justify-content: space-between;
        background-color: #bfbfbf;
        /* border: 0;
        border-radius: 0;
        border-bottom: 1px solid white; */
        grid-gap: 0.2rem;
        padding: 0.375rem 0.4rem!important;
        flex-direction: column;
    }
    /* .caj{
        display: flex;
    } */

    .form-check-input {
        width: 1.4em;
        height: 1.4em;
    }

thead th {
    text-transform: uppercase;
    text-align: center;
}



    /******/


    .dropdown-toggle::before{
        content: none!important;
    }

    /* .accordion-button {
        padding: 0.4rem!important;
    } */

    .accordion-button::after {

        transform: scale(0.6)!important;
    }

    .dropdown-menu {
        min-width: 13rem!important;
    }

    .accordion-body {
        padding: 0;
    }
    li.list-group-item {
        font-size: 0.8rem;
    }


    button#dropdownMenuClickableInside {
        display: flex;
        background-color: #db69a2;
        padding: 10px;
        border-radius: 50%;
        width: 35px;
        height: 35px;
        align-items: center;
        justify-content: center;
        border: none;
    }



    .accordion-button:not(.collapsed) {
        color: #ffffff;
        background-color: #573b8a;
        box-shadow: inset 0 -1px 0 rgba(0,0,0,.125);
    }

    .accordion-body {
        color: black;
        padding: 0.6rem;
        letter-spacing: 0;
        font-weight: 500;
        line-height: 18px;
    }
    .btn-danger {
        color: #fff;
        background-color: #db69a2;
        border-color: #db69a2;
    }

    .btn-danger:hover {
        color: #fff;
        background-color: #db69a2;
        border-color: #db69a2;
    }

    .form-check-input:checked {
        background-color: #573b8a;
        border-color: #573b8a;
    }

    .btn-primary {
        color: #fff;
        background-color: #573b8a;
        border-color: #573b8a;
    }
    .btn-primary:hover {
        color: #fff;
        background-color: #573b8a;
        border-color: #573b8a;
    }

    .list-group-item {
        padding:0px;
    }

    .dropdown-item:focus, .dropdown-item:hover {
        color: #1e2125;
        background-color: #dc35452b;
    }

    .accordion-button::after {
        filter: invert(1);
    }

    .dropdown-item {
        padding: 0.5rem 1.5rem;
    }

    .col.flex {
        display: flex;
        flex-direction: column;
        grid-gap: 0.4rem;
    }



    .form-check.espa {
        display: flex;
        grid-gap: 0.5rem;
        align-items: center;
    }


    nav.navbar.navbar-light.bg-light {
        grid-column-start: 1;
        grid-column-end: 3;
        position: absolute;
        width: 100%;
    }
    ol.breadcrumb {
        align-items: center;
        font-size: 0.8rem;
        margin-bottom: 0px;
    }


    @media only screen and (max-width: 420px) {
        /* .main {
            width: 85%;
        } */
        ol.breadcrumb {
            font-size: 0.5rem;
        }
        .navbar-brand {
            margin-right: 0px!important;
        }

    }



    thead {
        font-size: 0.9rem;
    }
    table button.btn.btn-primary {
        display: flex;
        justify-content: center;
        align-items: center;
        /* width: 38px; */
        /* height: 38px; */
        /* border-radius: 50%; */
        fill: white;
        margin: auto;
    }

    .form-check.form-switch {
        display: flex;
        justify-content: center;
    }

    h5#modalTitle {
        font-size: 0.9rem;
    }
    th.presen {
        font-size: 10px;
        letter-spacing: 1.4px;
    }


    .tuClase{
        pointer-events: none;
        opacity: 0.6;
    }

    .mediciones {
        background-color: black;
        color: white !important;
    }
    .entrega-resultados {
        background-color: #b0e0e6;
    }
    .guardado {
        background-color: #e4e6b0;
    }

</style>
<body>

    <div class="caja">
        <nav class="navbar navbar-light bg-light">
            <div class="container">
              <a class="navbar-brand" href="../index.html">
                <!-- <img src="https://aplications.inei.gob.pe/WebEndesEncuesta/public/img/endes_logo.png" alt="" width="30" height="30"> -->
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-arrow-left-circle-fill" viewBox="0 0 16 16">
                    <path d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm3.5 7.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"/>
                </svg>
              </a>
              <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                  <li class="breadcrumb-item" id="nomencu">SANDY GABRIELA ALVA CACHIQUE</li>
                  <li class="breadcrumb-item" id="nomeconglo">4268</li>
                  <li class="breadcrumb-item" id="nomevivi">001</li>
                  <li class="breadcrumb-item" id="nomehog">01</li>
                  <li class="breadcrumb-item">N° <span id="codvisit">1</span></li>
                </ol>
              </nav>
            </div>
        </nav>
    </div>


    <div class="table-responsive">
        <table class="table table-striped">
            <thead class="table-light table-dark">
                <tr>
                    <th colspan="3">SECCIÓN 5A. MEDICIÓN DEL TIEMPO DE MEDICIONES Y PRUEBAS BIOMÉDICAS</th>
                </tr> 
                <tr>
                    <th scope="col" >N°</th>  
                    <th scope="col" colspan="2">PREGUNTAS Y FILTROS</th>                        
                    <!-- <th scope="col" ></th>   -->
                    <!-- <th scope="col" colspan="2">CATEGORÍAS Y CÓDIGOS</th>         -->

                </tr>
            </thead>
            <tbody data-bd="tiempo" class="tdobyprev">

                    <tr >                           
                        <td>1</td>
                        <td>ANTROPOMETRISTA SELECCIONAR EL RESULTADO DE LA UBICACIÓN DE LOS INFORMANTES PARA ESTA SECCIÓN
                            (SOLO PARA DILIGENCIAR SI SE APERTURÓ LA VIVIENDA)</td>                       
                        
                        <td class="align-middle">
                            <select class="form-select seleccionar-ubicacion d-inline" style="width: 200px;" data-id="resultadoA">
                                <option value="0">SELECCIONAR</option>
                                <option value="1">1. PRESENTE</option>
                                <option value="2">2. NO PRESENTE</option>
                                <option value="3">3. RECHAZO</option>
                                <option value="6">6. OTRO</option>
                            </select>
                            <br><br>                           
                            <input data-id="resultadoA_esp" type="text" class="form-control input-especificar d-inline" style="width: 200px; display: none;">
                        </td>
                    </tr>

                    <tr data-id="2aa"  class="mediciones">                        
                        <td colspan="3"><b>ANTROPOMETRISTA:</b> REGISTRE LA FECHA Y HORA DE CADA ACTIVIDAD PROGRAMADA DURANTE SU PERMANENCIA EN LA VIVIENDA Y HOGAR
                            <br>
                        </td>
                    </tr>  

                    <tr data-id='fila2'> 
                        <td>2</td>
                        <td>REGISTRE FECHA  Y HORA DE <b>INICIO</b> DE LA PRESENTACIÓN Y <b>ARMADO DE EQUIPOS</b><br><br>
                            CONSIDERE DESDE LA PRESENTACIÓN QUE PUEDE SER AL INGRESAR A LA VIVIENDA O ESTANDO EN LA CALLE ANTES DE INICIAR EL ARMADO DE LOS EQUIPOS.</b>
                        </td>

                        <td class="align-middle">
                            <button type="button" class="btn btn-primary btn-inicio2 d-inline" data-bs-toggle="modal" data-bs-target="#exampleModal" style="width: 200px;" data-id="fecha_iniAr">
                                Fecha Inicial
                            </button>                            
                            <br><br>
                            <input data-id="fecha_iniAr" type="text" class="form-control fecha-inicio2-input d-inline" style="width: 200px;">
                            <br><br>
                            <select class="form-select seleccionar-resultado2 d-inline" style="width: 200px;" data-id="estadoAr">
                                <option value="0">SELECCIONAR</option>                                
                                <option value="3">3. RECHAZO</option>       
                                <option value="6">6. OTRO</option>                         
                            </select>
                            <br><br>
                            <input type="text" class="form-control input-especificar2 d-inline" style="width: 200px; display: none;" data-id="estadoAr_esp">
                        </td>
                    </tr>

            
                    <tr data-id='fila3'> 
                        <td>3</td>
                        <td>REGISTRE FECHA  Y HORA DE <b>TÉRMINO DEL ARMADO DE LOS EQUIPOS</b>
                            <br> <br>CONSIDERE LUEGO DE UBICAR, ARMAR LOS EQUIPOS (TALLIMETRO Y BALANZA) Y DEJAR LISTO PARA LAS MEDICIONES.</td>
                        <td class="align-middle">
                            <button type="button" class="btn btn-primary btn-fin3 d-inline" data-bs-toggle="modal" data-bs-target="#exampleModal" style="width: 200px;" data-id="fecha_finAr">
                                Fecha Final
                            </button>
                            <br><br>
                            <input data-id="fecha_finAr" type="text" class="form-control fecha-fin3-input d-inline" style="width: 200px;">
                        </td>
                       
                    </tr>
            
                    <tr  class="guardado" data-id='fila4'> 
                        <td>4</td>
                        <td>REGISTRE FECHA  Y HORA DE <b>INICIO DE MEDICIONES</b><br><br>
                            CONSIDERE CUANDO INICIA LA EXPLICACIÓN FORMALMENTE PARA LA APLICACIÓN DE MEDICIONES.</td>
                        <td class="align-middle">
                            <button type="button" class="btn btn-primary btn-fin4 btn-inicio4 d-inline" data-bs-toggle="modal" data-bs-target="#exampleModal" style="width: 200px;" data-id="fecha_iniMed">
                                Fecha Inicial
                            </button>
                            <br><br>
                            <input data-id="fecha_iniMed" type="text" class="form-control fecha-inicio4-input d-inline" style="width: 200px;">
                        </td>                        
                    </tr>

                    <tr data-id='fila5'> 
                        <td>5</td>
                        <td>REGISTRE FECHA  Y HORA DE <b>INICIO DE LA DESINFECCIÓN Y GUARDADO DEL HEMOGLOBINOMETRO Y CHAQUETA</b> DE LA ANTROPOMETRISTA<br><br>
                            CONSIDERE LUEGO DE VERIFICAR EL DATO DE HEMOGLOBINA EN LA TABLET.
                        </td>
                        <td class="align-middle">
                            <button type="button" class="btn btn-primary btn-inicio5 d-inline" data-bs-toggle="modal" data-bs-target="#exampleModal" style="width: 200px;" data-id="fecha_iniGuH">
                                Fecha Inicial
                            </button>
                            <br><br>
                            <input data-id="fecha_iniGuH" type="text" class="form-control fecha-inicio5-input d-inline" style="width: 200px;">
                            <br><br>
                            <select class="form-select seleccionar-resultado5 d-inline" style="width: 200px;" data-id="estadoGuH">
                                <option value="0">SELECCIONAR</option>
                                <option value="3">3. RECHAZO</option>
                                <option value="6">6. OTRO</option>
                            </select>
                            <br><br>
                            <input type="text" class="form-control input-especificar5 d-inline" style="width: 200px; display: none;" data-id="estadoGuH_esp">
                        </td>

                    </tr>

                    <tr data-id='fila6'> 
                        <td>6</td>
                        <td>REGISTRE FECHA  Y HORA DE <b>TÉRMINO DE  LA DESINFECCIÓN Y GUARDADO DEL HEMOGLOBINOMETRO</b><br><br>

                            CONSIDERE LUEGO QUE SE DESINFECTÓ Y GUARDÓ EL EQUIPO Y LA ANTROPOMETRISTA GUARDÓ SU CHAQUETA EN LA MOCHILA.</td>
                        <td class="align-middle">
                            <button type="button" class="btn btn-primary btn-fin6 d-inline" data-bs-toggle="modal" data-bs-target="#exampleModal" style="width: 200px;" data-id="fecha_finGuH">
                                Fecha Final
                            </button>
                            <br><br>
                            <input data-id="fecha_finGuH" type="text" class="form-control fecha-fin6-input d-inline" style="width: 200px;">
                        </td>
                    </tr>

                    <tr data-id='fila7'> 
                        <td>7</td>
                        <td>REGISTRE FECHA  Y HORA DE <b>INICIO DE LLENADO DE LA HOJA DE RESULTADOS </b>(HOJA ROSADA)<br> <br>   

                            CONSIDERE DESDE EL MOMENTO DE INICIAR LA TRANSCRIPCIÓN DE MEDIDAS A LA HOJA DE RESULTADOS (HOJA ROSADA).</td>
                        <td class="align-middle">
                            <button type="button" class="btn btn-primary btn-inicio7 d-inline" data-bs-toggle="modal" data-bs-target="#exampleModal" style="width: 200px;"  data-id="fecha_iniRes">
                                Fecha Inicial
                            </button>
                            <br><br>
                            <input  data-id="fecha_iniRes" type="text" class="form-control fecha-inicio7-input d-inline" style="width: 200px;">
                        </td>                        
                    </tr>

                    
                    <tr data-id='fila8'> 
                        <td>8</td>
                        <td>REGISTRE FECHA  Y HORA DE <b>TÉRMINO DE LA ENTREGA DE RESULTADOS</b><br><br>

                            CONSIDERE LUEGO QUE LLENÓ LA HOJA Y TERMINÓ LA EXPLICACIÓN DE LOS RESULTADOS DE ANTROPOMETRIA Y HEMOGLOBINA.</td>
                        <td class="align-middle">
                            <button type="button" class="btn btn-primary btn-fin8 d-inline" data-bs-toggle="modal" data-bs-target="#exampleModal" style="width: 200px;" data-id="fecha_finRes">
                                Fecha Final
                            </button>
                            <br><br>
                            <input data-id="fecha_finRes" type="text" class="form-control fecha-fin8-input d-inline" style="width: 200px;">
                        </td>
                    </tr>
                  
                    <tr data-id='fila9'>   
                        <td>9</td>
                        <td>
                            N° DE ORDEN Y NOMBRE DE LAS PERSONAS DEL CUESTIONARIO DEL HOGAR, CON AL MENOS UNA MEDICIÓN O PRUEBA APLICADA EN LA VISITA 
                            (SOLICITAR EL DATO A LA ENTREVISTADORA)
                        </td>
                        <td class="align-middle">                            
                            <!-- <input data-id="9aa" type="number" class="form-control input-cantidad d-inline" placeholder="Cantidad" style="width: 200px;"> -->
                            <a type="button" class="btn btn-secondary btn-fin8 d-inline" style="width: 140px;" id="agregar">
                                +
                            </a>
                            <a type="button" class="btn btn-danger btn-delete d-inline" style="width: 50px;" id="agregar">
                                <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                                    <path fill-rule="evenodd" d="M8.586 2.586A2 2 0 0 1 10 2h4a2 2 0 0 1 2 2v2h3a1 1 0 1 1 0 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a1 1 0 0 1 0-2h3V4a2 2 0 0 1 .586-1.414ZM10 6h4V4h-4v2Zm1 4a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Zm4 0a1 1 0 1 0-2 0v8a1 1 0 1 0 2 0v-8Z" clip-rule="evenodd"/>
                                </svg>
                                  
                            </a>
                            <br><br>
                            <div class="nombre-orden-container" data-id="9cant">
                                
                            </div>
                        </td>
                    </tr>
        
                    <tr data-id='fila10'> 
                        <td>10</td>
                        <td>REGISTRE FECHA  Y HORA DE <b>INICIO DEL GUARDADO DE EQUIPOS</b>  <br><br>

                            CONSIDERE DESDE EL INICIO DE LA DESINFECCIÓN Y GUARDADO DE LOS EQUIPOS: BALANZA Y/O TALLÍMETRO </td>
                        <td class="align-middle">
                            <button type="button" class="btn btn-primary btn-inicio10 d-inline" data-bs-toggle="modal" data-bs-target="#exampleModal" style="width: 200px;" data-id="fecha_iniGuE">
                                Fecha Inicial
                            </button>
                            <br><br>
                            <input data-id="fecha_iniGuE" type="text" class="form-control fecha-inicio10-input d-inline" style="width: 200px;">
                            <br><br>
                            <select class="form-select seleccionar-resultado10 d-inline" style="width: 200px;" data-id="estadoGuE">
                                <option value="0">SELECCIONAR</option>
                                <option value="3">3. RECHAZO</option>
                                <option value="6">6. OTRO</option>
                            </select>
                            <br><br>
                            <input type="text" class="form-control input-especificar10 d-inline" style="width: 200px; display: none;" data-id="estadoGuE_esp">
                        </td>                        
                    </tr>

                    
                    <tr data-id='fila11'> 
                        <td>11</td>
                        <td>REGISTRE FECHA  Y HORA DE <b>TÉRMINO DEL GUARDADO DE EQUIPOS</b><br><br>

                            CONSIDERE CUANDO GUARDÓ EL TALLÍMETRO Y BALANZA EN SU MOCHILA Y TODOS LOS ACCESORIOS (TAQUITOS).</td>
                        <td class="align-middle">
                            <button type="button" class="btn btn-primary btn-fin11 d-inline" data-bs-toggle="modal" data-bs-target="#exampleModal" style="width: 200px;" data-id="fecha_finGuE">
                                Fecha Final
                            </button>
                            <br><br>
                            <input data-id="fecha_finGuE" type="text" class="form-control fecha-fin11-input d-inline" style="width: 200px;">
                        </td>
                    </tr>

                    <tr data-id='fila12'> 
                        <td>12</td>
                        <td>¿RECIBIÓ APOYO PARA EL GUARDADO DE EQUIPOS (TALLÍMETRO Y BALANZA)? <br>

                        <td class="align-middle">
                            <select class="form-select seleccionar-resultado10 d-inline" style="width: 200px;" data-id="estadoGuA">
                                <option value="0">SELECCIONAR</option>
                                <option value="1">1. SI, DE LA SUPERV</option>
                                <option value="2">2. SI, DE LA ENTREV.</option>
                                <option value="3">3. SI, DE AMBAS</option>
                                <option value="4">4. NO</option>
                            </select>
                        </td>
                    </tr>

                    <tr  class="guardado" data-id='fila13'> 
                        <td>13</td>
                        <td>REGISTRE FECHA  Y HORA DE <b>TÉRMINO DE MEDICIONES Y OTRAS ACTIVIDADES DE LA ANTROPOMETRISTA</b><br><br>

                            CONSIDERE CUANDO LA ANTROPOMETRISTA CULMINÓ TODA SU ACTIVIDAD EN ESA VISITA. (NO CONSIDERAR LA ESPERA A LA  ENTREVISTADORA PARA SALIR DE LA VIVIENDA)</td>
                        <td class="align-middle">
                            <button type="button" class="btn btn-primary btn-fin12 d-inline" data-bs-toggle="modal" data-bs-target="#exampleModal" style="width: 200px;" data-id="fecha_finMed">
                                Fecha Final
                            </button>                        
                        <br><br>
                        <input data-id="fecha_finMed" type="text" class="form-control fecha-fin12-input d-inline" style="width: 200px;">  
                        </td>                      
                    </tr>

                    <tr data-id='fila14'> 
                        <th colspan="4" style="text-align: center;">OBSERVACIONES DE LA ANTROPOMETRISTA</th>
                    </tr> 
                    <tr data-id="obs" >
                        <td colspan="4">
                            <textarea data-id="observacion" class="form-control" rows="4"></textarea>
                        </td>
                    </tr>
                

                </tbody>
            </table>
        </div>

       

<!-- Agrega este código HTML para el modal de alerta -->
<div class="modal" tabindex="-1" id="alertModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Alerta</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p id="alertMessage"></p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Aceptar</button>
            </div>
        </div>
    </div>
</div>

<!-- Agrega este código HTML para el modal de temporalizador -->
<div class="modal" tabindex="-1" id="temporalizadorModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Alerta</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p id="temporalizadorMessage"></p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Aceptar</button>
            </div>
        </div>
    </div>
</div>


    </div>
    <script src="../recursos/js/bootstrap.min.js" ></script>
    <script>

// Obtener el elemento de selección del combobox y el campo de texto de especificación
var seleccionarUbicacion = document.querySelector('.seleccionar-ubicacion');
var inputEspecificar = document.querySelector('.input-especificar');

// Bloquear el campo de texto al cargar la página si la opción seleccionada no es "OTRO"
if (seleccionarUbicacion.value !== '6') {
    inputEspecificar.disabled = true;
}

// Mostrar u ocultar el campo de texto según la opción seleccionada en el combobox
seleccionarUbicacion.addEventListener('change', function() {
    if (seleccionarUbicacion.value === '6') {
        inputEspecificar.style.display = 'inline';
        inputEspecificar.disabled = false;
    } else {
        inputEspecificar.style.display = 'none';
        inputEspecificar.disabled = true;
    }
});


/*SELECC 5*/

var seleccionarResultado5 = document.querySelector('.seleccionar-resultado5');
var inputEspecificar5 = document.querySelector('.input-especificar5');

if (seleccionarResultado5.value != '6') {
    inputEspecificar5.disabled = true;
}

seleccionarResultado5.addEventListener('change', function() {
    if (seleccionarResultado5.value === '6') {
        inputEspecificar5.style.display = 'inline';
        inputEspecificar5.disabled = false;
    } else {
        inputEspecificar5.style.display = 'none';
        inputEspecificar5.disabled = true;
    }
});

/*SELECC 2*/

var seleccionarResultado2 = document.querySelector('.seleccionar-resultado2');
var inputEspecificar2 = document.querySelector('.input-especificar2');

if (seleccionarResultado2.value != '6') {
    inputEspecificar2.disabled = true;
}

seleccionarResultado2.addEventListener('change', function() {
    if (seleccionarResultado2.value === '6') {
        inputEspecificar2.style.display = 'inline';
        inputEspecificar2.disabled = false;
    } else {
        inputEspecificar2.style.display = 'none';
        inputEspecificar2.disabled = true;
    }
});

/*SELECC 10*/

var seleccionarResultado10 = document.querySelector('.seleccionar-resultado10');
var inputEspecificar10 = document.querySelector('.input-especificar10');

if (seleccionarResultado10.value != '6') {
    inputEspecificar10.disabled = true;
}

seleccionarResultado10.addEventListener('change', function() {
    if (seleccionarResultado10.value === '6') {
        inputEspecificar10.style.display = 'inline';
        inputEspecificar10.disabled = false;
    } else {
        inputEspecificar10.style.display = 'none';
        inputEspecificar10.disabled = true;
    }
});

function limitarCaracteres(input) {
    if (input.value.length > 2) {
        input.value = input.value.slice(0, 2); // Solo se toman los dos primeros caracteres
    }
    // else if(input.value.length == 1){
    //     input.value = `0${}`
    // }
}

function agregarcajaConInput() {
    // Obtener el elemento de entrada de cantidad
    const inputCantidad = document.querySelector('.input-cantidad');
    // Obtener el contenedor donde se agregarán dinámicamente los campos de nombre y orden
    const nombreOrdenContainer = document.querySelector('.nombre-orden-container');

    const caja = document.createElement('div');
    caja.classList.add('contenedor');
    caja.style.marginBottom = '20px';
    // Crear elementos de input para nombre y orden
    const inputNombre = document.createElement('input');
    inputNombre.type = 'text';
    inputNombre.classList.add('form-control', 'input-nombre');
    //inputNombre.setAttribute("data-item", `n${i}`)
    //inputNombre.setAttribute("data-id", `n`)
    inputNombre.setAttribute("data-insertar", `insert`)
    inputNombre.placeholder = 'Nombre';
    inputNombre.style.width = '200px';
    inputNombre.style.display = 'inline';
    inputNombre.setAttribute("data-validar", `valid`)

    const inputOrden = document.createElement('input');
    inputOrden.type = 'number';
    inputOrden.classList.add('form-control', 'input-orden', 'contador');
    //inputOrden.setAttribute("data-item", `o${i}`)
    //inputOrden.setAttribute("data-id", `o`)
    inputOrden.setAttribute("data-insertar", `insert`)
    inputOrden.setAttribute("max", `99`)
    inputOrden.setAttribute("min", `0`)
    inputOrden.setAttribute("pattern", `\d{1,2}`)
    inputOrden.setAttribute("oninput", "limitarCaracteres(this)")
    inputOrden.placeholder = 'N° Orden';
    inputOrden.style.width = '200px';
    inputOrden.style.display = 'inline';
    inputOrden.setAttribute("data-validar", `valid`)

    

    // Agregar los campos de nombre y orden al contenedor
    caja.appendChild(inputOrden);
    caja.appendChild(inputNombre);
    //nombreOrdenContainer.appendChild(inputOrden);


    nombreOrdenContainer.appendChild(caja);

    // Agregar un salto de línea entre cada par de campos de nombre y orden
    // const lineBreak = document.createElement('br');
    // nombreOrdenContainer.appendChild(lineBreak.cloneNode());
    // nombreOrdenContainer.appendChild(lineBreak.cloneNode());

    let cont = document.querySelectorAll(".contador")
    inputNombre.setAttribute("data-id", `n${cont.length}`)
    inputOrden.setAttribute("data-id", `o${cont.length}`)
    //console.log();


    eventoAdd();
}



document.addEventListener("DOMContentLoaded", function() {

    let inputDesactivados = document.querySelectorAll("input")

    inputDesactivados.forEach(el => {
        if (el.getAttribute("data-id") == "fecha_iniAr" || el.getAttribute("data-id") == "fecha_iniMed" || el.getAttribute("data-id") == "fecha_iniGuH"
        || el.getAttribute("data-id") == "fecha_iniRes" || el.getAttribute("data-id") == "fecha_finRes" || el.getAttribute("data-id") == "fecha_iniGuE" 
        || el.getAttribute("data-id") == "fecha_finGuE" || el.getAttribute("data-id") == "fecha_finAr" ) {
            el.setAttribute("disabled", true)
        }
    });



    


   

    document.querySelector("#agregar").addEventListener("click", e=>{
        console.log("clickkkk");

        let validarlista = document.querySelectorAll("[data-validar= 'valid']")
        let cont = 0

        validarlista.forEach(el => {
            
            if(el.value == "" ){
                console.log("hay un campo vacio");
                
            }else{
                cont += 1 
            }
        });

        if(cont == validarlista.length){
            agregarcajaConInput()
        }

        // if(validarlista.length == 0){
        //     agregarcajaConInput()
        // }
        
       

    })


    
    
        
    

    


    let selectElement1 = document.querySelector(".seleccionar-ubicacion");
    let selectElement = document.querySelector(".seleccionar-resultado2"); 
    let rowToShowfila2titulo = document.querySelector("[data-id='2aa']");
    let rowToShowfila2 = document.querySelector("[data-id='fila2']");
    let rowToShow = document.querySelector("[data-id='fila3']");
    let rowToShowpreg4 = document.querySelector("[data-id='fila4']");
    let rowToShow5 = document.querySelector("[data-id='fila5']");
    let rowToShow6 = document.querySelector("[data-id='fila6']");
    let rowToShow7 = document.querySelector("[data-id='fila7']");
    let rowToShow8 = document.querySelector("[data-id='fila8']");
    let rowToShow9 = document.querySelector("[data-id='fila9']");
    let rowToShow10 = document.querySelector("[data-id='fila10']");
    let rowToShow11 = document.querySelector("[data-id='fila11']");
    let rowToShow12 = document.querySelector("[data-id='fila12']");
    let rowToShow13 = document.querySelector("[data-id='fila13']");
    let rowToShow14 = document.querySelector("[data-id='fila14']");
    let rowToShow15 = document.querySelector("[data-id='obs']");


    selectElement1.addEventListener("click", function(){

        if(this.value == "3" || this.value == "2" || this.value == "6" ){
            console.log("hhh");
            rowToShowfila2titulo.style.display = "none";
            rowToShowfila2.style.display = "none";
            rowToShow.style.display = "none";
            rowToShowpreg4.style.display = "none";
            rowToShow5.style.display = "none";
            rowToShow6.style.display = "none";
            rowToShow7.style.display = "none";
            rowToShow8.style.display = "none";
            rowToShow9.style.display = "none";
            rowToShow10.style.display = "none";
            rowToShow11.style.display = "none";
            rowToShow12.style.display = "none";
            rowToShow13.style.display = "none";
            rowToShow14.style.display = "none";
            rowToShow15.style.display = "none";
        }else{
            rowToShowfila2titulo.style.display = "table-row";
            rowToShowfila2.style.display = "table-row";
            rowToShow.style.display = "table-row";
            rowToShowpreg4.style.display = "table-row";
            rowToShow5.style.display = "table-row";
            rowToShow6.style.display = "table-row";
            rowToShow7.style.display = "table-row";
            rowToShow8.style.display = "table-row";
            rowToShow9.style.display = "table-row";
            rowToShow10.style.display = "table-row";
            rowToShow11.style.display = "table-row";
            rowToShow12.style.display = "table-row";
            rowToShow13.style.display = "table-row";
            rowToShow14.style.display = "table-row";
            rowToShow15.style.display = "table-row";
        }
    })




    selectElement.addEventListener("change", function() {
        if (this.value === "3" || this.value === "6") {
            rowToShow.style.display = "none";
        } else {
            rowToShow.style.display = "table-row";
        }

        
    });


    var selectElement2 = document.querySelector(".seleccionar-resultado5");
    var rowToShow2 = document.querySelector("[data-id='fila6']");

    selectElement2.addEventListener("change", function() {
        if (this.value === "3" || this.value === "6") {
            rowToShow2.style.display = "none";
        } else {
            rowToShow2.style.display = "table-row";
        }
    });


    var selectElement3 = document.querySelector(".seleccionar-resultado10");
    var rowToShow3 = document.querySelector("[data-id='fila11']");
    var rowToShow4 = document.querySelector("[data-id='fila12']");

    selectElement3.addEventListener("change", function() {
        if (this.value === "3" || this.value === "6") {
            rowToShow3.style.display = "none";
            rowToShow4.style.display = "none";
        } else {
            rowToShow3.style.display = "table-row";
            rowToShow4.style.display = "table-row";
        }
    });



    document.querySelector(".seleccionar-resultado2").addEventListener('change', e=>{
        if(e.target.value == 0 || e.target.value == 3 ){
            document.querySelector("[data-id='estadoAr_esp']").value = ""
        }
    })

    document.querySelector(".seleccionar-resultado5").addEventListener('change', e=>{
        if(e.target.value == 0 || e.target.value == 3 ){
            document.querySelector("[data-id='estadoGuH_esp']").value = ""
        }
    })

    document.querySelector(".seleccionar-resultado10").addEventListener('change', e=>{
        if(e.target.value == 0 || e.target.value == 3 ){
            document.querySelector("[data-id='estadoGuE_esp']").value = ""
        }
    })

    
    ////////////////eveto click validar que se halla cerrado el anterior item

    document.querySelector("[data-id='fecha_iniMed']").addEventListener('click', e=>{
        console.log(e.target.closest("tr").previousElementSibling.lastElementChild.lastElementChild.value);
    })


});



    </script>
    <script>


        
        // Variable para almacenar el identificador del temporizador
        var temporizador;
        var fechaInicioMarcada;
        var fechaInicioMarcada2;
        var fechaInicioMarcada3;
        var fechaInicioMarcada4;
        var fechaInicioMarcada5;

        var fechainiciobtn3
        let validarpreg4
        let validarpreg6 
        let validarpreg8
        let validarpreg11




         
        var button = document.getElementById('agregar');
        button.addEventListener('click', function() {
            //alert('Button clicked!');
        });

        function obtenerDatosLogin() {
            // Abrir la base de datos
            var request = indexedDB.open("miBaseDeDatos2", 1);

            request.onsuccess = function(event) {
                var db = event.target.result;

                // Iniciar una transacción de lectura
                var transaction = db.transaction(["usuariosbd"], "readonly");

                // Obtener el almacén de objetos
                var objectStore = transaction.objectStore("usuariosbd");

                // Obtener todos los objetos del almacén
                var requestGetAll = objectStore.getAll();


                requestGetAll.onsuccess = function(event) {
                    var data = event.target.result;
                    console.log("Datos obtenidos.usu...:", data);

                    document.querySelector("#nomencu").textContent = data[0].nomencu
                    document.querySelector("#nomeconglo").textContent = data[0].codconglo
                    document.querySelector("#nomevivi").textContent = data[0].codvivi
                    document.querySelector("#nomehog").textContent = data[0].codhog
                    document.querySelector("#codvisit").textContent =  data[0].codvisit

                    data[0].cargoencu == 22 ? window.location.href = "supervisora.html":""
                };

                requestGetAll.onerror = function(event) {
                console.log("Error al obtener los datos");
                };
            };
        }

        function obtenerDatosTiempo() {
            // Abrir la base de datos
            var request = indexedDB.open("miBaseDeDatos2", 1);

            request.onsuccess = function(event) {
                var db = event.target.result;

                // Iniciar una transacción de lectura
                var transaction = db.transaction(["tiempo"], "readonly");

                // Obtener el almacén de objetos
                var objectStore = transaction.objectStore("tiempo");

                // Obtener todos los objetos del almacén
                var requestGetAll = objectStore.getAll();


                requestGetAll.onsuccess = function(event) {
                    var data = event.target.result;
                    console.log("Datos obtenidos.tiempo...:", data);

                    let selects = document.querySelectorAll("select");

                    selects.forEach(select => {
                        let options = select.querySelectorAll("option");
                        data.forEach(el => {
                            if(el.id == select.getAttribute("data-id") ){

                              options.forEach(option => {
                                    if (option.value === el[el.id]) {
                                        option.setAttribute("selected", "selected");
                                    }
                              });  
                            }
                        });
                    });

                    let inputs = document.querySelectorAll("input");

                    inputs.forEach(el => {
                        data.forEach(de => {
                            if(el.getAttribute("data-id") == de.id){
                                //console.log(el);
                                el.value = de[de.id]
                            }
                        })
                    });


                    data.forEach(de => {
                        
                        let text = document.querySelector("textarea")

                        if(text.getAttribute("data-id") == de.id){
                            document.querySelector("textarea").textContent = de[de.id]
                        }

                    })



                    let buttons = document.querySelectorAll("button");

                    buttons.forEach(el => {
                        if(el.getAttribute("data-id")){
                            if(el.nextElementSibling.nextElementSibling.nextElementSibling.value != "" ){
                                el.setAttribute("disabled", "true")
                                // console.log(el.parentElement.lastElementChild.nodeName == "SELECT");
                                // console.log(el.parentElement.lastElementChild.value);
                            }

                            if(el.parentElement.lastElementChild.nodeName == "SELECT" && el.parentElement.lastElementChild.value == 3){
                                //console.log("jjjjj");
                                el.removeAttribute("disabled")
                            }

                            if(el.parentElement.lastElementChild.previousElementSibling.previousElementSibling.previousElementSibling.nodeName == "SELECT" && el.parentElement.lastElementChild.previousElementSibling.previousElementSibling.previousElementSibling.value == 3){
                                //el.removeAttribute("disabled")
                                el.removeAttribute("disabled")
                            }

                        }
                    });


                    buttons.forEach(el => {
                        if(el.getAttribute("disabled")){
                            console.log(el.getAttribute("data-id"));
                            if(el.getAttribute("data-id") == "fecha_iniAr"){
                                fechaInicioMarcada = true;
                            }
                            if(el.getAttribute("data-id") == "fecha_finAr"){
                                fechainiciobtn3 = true
                            }
                            if(el.getAttribute("data-id") == "fecha_iniMed"){
                                validarpreg4 = true
                                fechaInicioMarcada5 = true;
                            }
                            if(el.getAttribute("data-id") == "fecha_iniGuH"){
                                fechaInicioMarcada2 = true;
                            }
                            if(el.getAttribute("data-id") == "fecha_finGuH"){
                                validarpreg6 = true
                            }
                            if(el.getAttribute("data-id") == "fecha_iniRes"){
                                fechaInicioMarcada3 = true;
                            }
                            if(el.getAttribute("data-id") == "fecha_finRes"){
                                validarpreg8 = true
                            }
                            if(el.getAttribute("data-id") == "fecha_iniGuE"){
                                fechaInicioMarcada4 = true;
                            }
                            if(el.getAttribute("data-id") == "fecha_finGuE"){
                                validarpreg11 = true
                            }
                            
                        }
                    });

                    let selectElement1 = document.querySelector(".seleccionar-ubicacion");

                    data.forEach(de => {
                        
                        if(de.id == "resultadoA"){
                            if(de[de.id] == 3 || de[de.id] == 2 || de[de.id] == 6   ){
                                document.querySelector("[data-id='2aa']").style.display = "none";
                                document.querySelector("[data-id='fila2']").style.display = "none";
                                document.querySelector("[data-id='fila3']").style.display = "none";
                                document.querySelector("[data-id='fila4']").style.display = "none";
                                document.querySelector("[data-id='fila5']").style.display = "none";
                                document.querySelector("[data-id='fila6']").style.display = "none";
                                document.querySelector("[data-id='fila7']").style.display = "none";
                                document.querySelector("[data-id='fila8']").style.display = "none";
                                document.querySelector("[data-id='fila9']").style.display = "none";
                                document.querySelector("[data-id='fila10']").style.display = "none";
                                document.querySelector("[data-id='fila11']").style.display = "none";
                                document.querySelector("[data-id='fila12']").style.display = "none";
                                document.querySelector("[data-id='fila13']").style.display = "none";
                                document.querySelector("[data-id='fila14']").style.display = "none";
                                document.querySelector("[data-id='obs']").style.display = "none";
                            }
                        }

                        if(de.id == "estadoAr"){
                            //console.log(de[de.id]);
                            if(de[de.id] == 3 || de[de.id] == 6){
                                document.querySelector("[data-id='fila3']").style.display = "none";
                                
                                
                            }

                        }
                        if(de.id == "estadoGuH"){
                            //console.log(de[de.id]);
                            if(de[de.id] == 3 || de[de.id] == 6){
                                document.querySelector("[data-id='fila6']").style.display = "none";
                            }
                        }
                        if(de.id == "estadoGuE"){
                            //console.log(de[de.id]);
                            if(de[de.id] == 3 || de[de.id] == 6){
                                document.querySelector("[data-id='fila11']").style.display = "none";
                            }
                            if(de[de.id] == 3 || de[de.id] == 6){
                                document.querySelector("[data-id='fila12']").style.display = "none";
                            }
                        }

                    })

                    


                   
                };

                requestGetAll.onerror = function(event) {
                console.log("Error al obtener los datos");
                };
            };
        }

        function obtenerDatosPersonas() {
            // Abrir la base de datos
            var request = indexedDB.open("miBaseDeDatos2", 1);

            request.onsuccess = function(event) {
                var db = event.target.result;

                // Iniciar una transacción de lectura
                var transaction = db.transaction(["personas"], "readonly");

                // Obtener el almacén de objetos
                var objectStore = transaction.objectStore("personas");

                // Obtener todos los objetos del almacén
                var requestGetAll = objectStore.getAll();


                requestGetAll.onsuccess = function(event) {
                    var data = event.target.result;
                    console.log("Datos obtenidos. personas...:", data);

                    // Simular el evento de click en el botón
                    // var event = new MouseEvent('click', {
                    //     view: window,
                    //     bubbles: true,
                    //     cancelable: true
                    // });

                    for (let i = 0; i < data.length/2; i++) {
                        //button.dispatchEvent(event);
                        document.querySelector(".nombre-orden-container").insertAdjacentHTML("beforebegin", agregarcaja(i+1))
                    }

                    let inputs = document.querySelectorAll("input");

                    inputs.forEach(el => {
                        data.forEach(de => {
                            if(el.getAttribute("data-id") == de.id){
                                //console.log(el);
                                el.value = de[de.id]
                            }
                        })
                    });


                    data.forEach(de => {
                        console.log(de);
                    })



                    eventoAdd()
                    


                };

                requestGetAll.onerror = function(event) {
                console.log("Error al obtener los datos");
                };
            };
        }


        obtenerDatosLogin()
        obtenerDatosTiempo()
        obtenerDatosPersonas()

        function agregarcaja(n) {
            html = `<div style="margin-bottom: 20px;" class="contenedor">
                        <input type="number" data-validar="valid" class="form-control input-orden contador" 
                        data-insertar="insert" max="99" min="0" pattern="d{1,2}" oninput="limitarCaracteres(this)" 
                        placeholder="N° Orden" data-id="o${n}" style="width: 200px; display: inline;">

                        <input type="text" data-validar="valid" class="form-control input-nombre" data-insertar="insert" 
                        placeholder="Nombre" data-id="n${n}" style="width: 200px; display: inline;">
                    </div>`

            return html        
        }
        

        function eventoAdd() {
            let numOrdens = document.querySelectorAll(".contador")

            numOrdens.forEach(el => {
                el.addEventListener('change', e=>{
                    console.log(el.value.length == 1);
                    el.value.length == 1 ? el.value = `0${el.value}`:el.value 
                })        
            });

        }



        function inspeccion() {
           let inputnumber = document.querySelectorAll("[type='number']")
        
            
            if (inputnumber[inputnumber.length-1].value.length > 0) {
                console.log("ss");
            }else{
                console.log("no es mayor a 0 ");
            }
        }
        


        // Añadir datos a la base de datos
        function agregarDatosv2(preg, linkBase, valores) {
            // Abrir la base de datos
            var request = indexedDB.open("miBaseDeDatos2", 1);

            request.onsuccess = function(event) {
                var db = event.target.result;

                // Iniciar una transacción de escritura
                var transaction = db.transaction([linkBase], "readwrite");

                // Obtener el almacén de objetos
                var objectStore = transaction.objectStore(linkBase);


                var data = ''
                var objeto = ''
                //obtengo todos los valores
                var requestGetAll = objectStore.getAll();
                requestGetAll.onsuccess = function(event) {
                    data = event.target.result;
                    //console.log("Datos obtenidos desde agregar:", data.length);

                    // Crear un objeto para almacenar en el almacén
                    //objeto = { id: preg , descipcion: valores };
                    objeto = { id:preg, [preg]: valores};

                    // Añadir el objeto al almacén
                    var requestAdd = objectStore.add(objeto);

                    requestAdd.onsuccess = function(event) {
                    console.log("Datos agregados correctamente");
                    };

                    requestAdd.onerror = function(event) {
                    console.log("Error al agregar los datos");
                    };
                };
            
                
            };
        }

        // agregarDatosv2("1a", "tiempo", "yuuuuihu")
        // agregarDatosv2("2a", "tiempo", "kkkkk")



        function editarRegistro(registro,linkBase, valorAguardar) {
            // Open a connection to the IndexedDB database
            const request = indexedDB.open('miBaseDeDatos2', 1);

            request.onerror = function(event) {
                console.error('Database error: ' + event.target.errorCode);
            };

            request.onsuccess = function(event) {
                const db = event.target.result;

                // Create a transaction to perform the update operation
                const transaction = db.transaction([linkBase], 'readwrite');
                const objectStore = transaction.objectStore(linkBase);

                // Retrieve the record you want to update
                const getRequest = objectStore.get(registro);

                getRequest.onerror = function(event) {
                    console.error('Error retrieving record: ' + event.target.errorCode);
                };

                getRequest.onsuccess = function(event) {
                    const record = event.target.result;

                    console.log("record",record);

                    //let textarea = document.querySelector("#observacion")
                    
                    record[registro] = valorAguardar

                    // Update the record in the object store
                    const updateRequest = objectStore.put(record);

                    updateRequest.onerror = function(event) {
                    console.error('Error updating record: ' + event.target.errorCode);
                    };

                    updateRequest.onsuccess = function(event) {
                    console.log('Record updated successfully');
                    //limpiarEdit()
                    };
                };
            };
        }


        function borrarRegistro(id) {
            // Abrir la base de datos
            let request = indexedDB.open("miBaseDeDatos2", 1);

            // Manejar éxito o error al abrir la base de datos
            request.onsuccess = function(event) {
                let db = event.target.result;
                
                // Iniciar una transacción de lectura/escritura en el almacén de objetos
                let transaction = db.transaction(["personas"], "readwrite");

                // Obtener el almacén de objetos
                let objectStore = transaction.objectStore("personas");

                // Borrar el registro con el ID proporcionado
                let deleteRequest = objectStore.delete(id);

                // Manejar éxito o error al borrar el registro
                deleteRequest.onsuccess = function(event) {
                    console.log("Registro borrado con éxito");
                };

                deleteRequest.onerror = function(event) {
                    console.error("Error al borrar el registro");
                };
            };

            request.onerror = function(event) {
                console.error("Error al abrir la base de datos");
            };
        }


        //editarRegistro(preg, valor)
        //editarRegistro("estadoAr", "tiempo", 60)


        document.querySelector(".table-responsive").addEventListener("change", e=>{
            //console.log(e.target.nodeName)
            let preg = e.target.getAttribute("data-id")
            let valor =  e.target.closest(".tdobyprev").getAttribute("data-bd")

            if(e.target.nodeName == 'SELECT'){
                
            
                console.log("checkFF",preg, valor, e.target.value)

                editarRegistro(preg, valor, e.target.value)
                agregarDatosv2(preg, valor, e.target.value)
                

            }

           

            if(e.target.nodeName == 'INPUT' && e.target.getAttribute("data-insertar") == "insert"){
                //console.log(e.target.value);
                //let preg = e.target.getAttribute("data-id")
                agregarDatosv2(preg, "personas", e.target.value)
                editarRegistro(preg, "personas", e.target.value)
            }else{
                agregarDatosv2(preg, valor, e.target.value)
                editarRegistro(preg, valor, e.target.value)
            }

            if(e.target.nodeName == 'TEXTAREA'){
                console.log(e.target.value);

                agregarDatosv2(preg, valor, e.target.value)
                editarRegistro(preg, valor, e.target.value)
            }

          

        })


        document.querySelector(".table-responsive").addEventListener("click", e=>{
            let valor =  e.target.closest(".tdobyprev").getAttribute("data-bd")

            if(e.target.nodeName == 'BUTTON'){

                let pregunta = e.target.getAttribute("data-id")
                let valorInput = e.target.nextElementSibling.nextElementSibling.nextElementSibling.value
     
                agregarDatosv2(pregunta, valor, valorInput)
                editarRegistro(pregunta, valor, valorInput)
            }

        })


        let table = document.querySelector("table")

        table.addEventListener("change", e=>{
            if(e.target.nodeName == "SELECT"){
                
                if(e.target.parentElement.firstElementChild.nodeName == "BUTTON" && (e.target.value == 3 || e.target.value == 6) ){
                    e.target.parentElement.firstElementChild.removeAttribute("disabled")
                    //console.log(e.target.parentElement.firstElementChild.nextElementSibling.nextElementSibling.nextElementSibling.value);
                    e.target.parentElement.firstElementChild.nextElementSibling.nextElementSibling.nextElementSibling.value = ""
                }
            }
            
        })




        let eliminar = document.querySelector(".btn-delete")


        eliminar.addEventListener("click", e=>{
             //console.log("boton", eliminar);

             let contenedor = document.querySelectorAll(".contenedor")
             let orden = contenedor[contenedor.length-1].firstElementChild.getAttribute("data-id")
             let nombre = contenedor[contenedor.length-1].firstElementChild.nextElementSibling.getAttribute("data-id")

             contenedor[contenedor.length-1].remove()

             borrarRegistro(orden)
             borrarRegistro(nombre)
             
        })

       







        // Función para obtener la fecha actual en formato "YYYY-MM-DD"
    // function obtenerFechaHoraActual() {
    //     const ahora = new Date();
    //     const fecha = ahora.toLocaleDateString();
    //     const hora = ahora.toLocaleTimeString();
    //     const fechaHora = `${fecha} ${hora}`;
    //     return fechaHora;
    // }

    function obtenerFechaHoraActual() {
        const ahora = new Date();
        
        // Obtener la fecha
        const fecha = ahora.toLocaleDateString();
        
        // Obtener y formatear la hora en 24 horas
        const horas = String(ahora.getHours()).padStart(2, '0');
        const minutos = String(ahora.getMinutes()).padStart(2, '0');
        const segundos = String(ahora.getSeconds()).padStart(2, '0');
        const hora = `${horas}:${minutos}:${segundos}`;
        
        // Combinar fecha y hora
        const fechaHora = `${fecha} ${hora}`;
        return fechaHora;
    }



        // "Fecha Inicial 2"
    document.querySelector(".btn-inicio2").addEventListener("click", function() {
        var fechaActual = obtenerFechaHoraActual();        
        document.querySelector(".fecha-inicio2-input").value = fechaActual;        
        this.disabled = true; 
        document.querySelector(".fecha-inicio2-input").disabled = true;
        // Marcar que la fecha inicial ha sido marcada
        fechaInicioMarcada = true;
        
        // // Establecer un temporizador para alertar después de un minuto
        // temporizador = setTimeout(function() {
        //     alert('¡Recuerda marcar la fecha final!');
        // }, 900000); // 60000 milisegundos equivalen a 1 minuto

        // temporizador = setTimeout(function() {
        // var temporalizadorModal = new bootstrap.Modal(document.getElementById('temporalizadorModal'));
        //     document.getElementById('temporalizadorMessage').innerText = '¡Recuerda marcar la fecha final!';
        //     temporalizadorModal.show();
        // }, 900000);
    });

    // "Fecha Final 3"
    document.querySelector(".btn-fin3").addEventListener("click", function() {
        // Limpiar el temporizador si se marca la fecha final antes del minuto
        //clearTimeout(temporizador);
        
        

        // Verificar si la fecha inicial ha sido marcada
        if (!fechaInicioMarcada) {
            // Mostrar el modal de alerta
            var alertModal = new bootstrap.Modal(document.getElementById('alertModal'));
            document.getElementById('alertMessage').innerText = '¡Primero debe marcar la fecha de inicio!';
            alertModal.show();
            return; // Detener la ejecución si la fecha inicial no ha sido marcada
        }
        fechainiciobtn3 = true

        var fechaActual = obtenerFechaHoraActual();        
        document.querySelector(".fecha-fin3-input").value = fechaActual;
        this.disabled = true; 
        document.querySelector(".fecha-fin3-input").disabled = true;
    });



    
    // "Fecha Final 4"
    document.querySelector(".btn-fin4").addEventListener("click", function() {
        //clearTimeout(temporizador);

        let preg2select = document.querySelector("[data-id = 'estadoAr']")

        
        // Verificar si la fecha inicial ha sido marcada
        if (!fechainiciobtn3 && (preg2select.value != 6 && preg2select.value !=3 ) ) {
            // Mostrar el modal de alerta
            var alertModal = new bootstrap.Modal(document.getElementById('alertModal'));
            document.getElementById('alertMessage').innerText = '¡Omisión en pregunta anterior, marcar la fecha final!';
            alertModal.show();
            return; // Detener la ejecución si la fecha inicial no ha sido marcada
        }

            validarpreg4 = true
            fechaInicioMarcada5 = true;

            var fechaActual = obtenerFechaHoraActual();        
            document.querySelector(".fecha-inicio4-input").value = fechaActual;
            this.disabled = true; 
            document.querySelector(".fecha-inicio4-input").disabled = true;
          
    });


/*SEGUNDO TRAMO DE FECHA*/

    // "Fecha Inicial 5"
    document.querySelector(".btn-inicio5").addEventListener("click", function() {
        
       
        
        if (!validarpreg4) {
            // Mostrar el modal de alerta
            var alertModal = new bootstrap.Modal(document.getElementById('alertModal'));
            document.getElementById('alertMessage').innerText = '¡Omisión en pregunta anterior, marcar la fecha inicial!';
            alertModal.show();
            return; // Detener la ejecución si la fecha inicial no ha sido marcada
        }

         // Marcar que la fecha inicial ha sido marcada
         fechaInicioMarcada2 = true;

        var fechaActual = obtenerFechaHoraActual();        
        document.querySelector(".fecha-inicio5-input").value = fechaActual;        
        this.disabled = true; 
        document.querySelector(".fecha-inicio5-input").disabled = true;
    });

    
    // "Fecha Final 6"
    document.querySelector(".btn-fin6").addEventListener("click", function() {
        // Limpiar el temporizador si se marca la fecha final antes del minuto
        //clearTimeout(temporizador);
        
        // Verificar si la fecha inicial ha sido marcada
        if (!fechaInicioMarcada2) {
            // Mostrar el modal de alerta
            var alertModal = new bootstrap.Modal(document.getElementById('alertModal'));
            document.getElementById('alertMessage').innerText = '¡Omisión en pregunta anterior, marcar la fecha inicial!';
            alertModal.show();
            return; // Detener la ejecución si la fecha inicial no ha sido marcada
        }
        validarpreg6 = true

        var fechaActual = obtenerFechaHoraActual();        
        document.querySelector(".fecha-fin6-input").value = fechaActual;
        this.disabled = true; 
        document.querySelector(".fecha-fin6-input").disabled = true;
    });


    // var selectElement = document.querySelector(".seleccionar-resultado5");
    //         var rowToHide1 = document.querySelector("[data-id='6a']");
    //         var rowToShow2 = document.querySelector("[data-id='7a']");
            
    //         selectElement.addEventListener("change", function() {
    //             if (this.value === "3" || this.value === "6") {
    //                 rowToShow2.style.display = "table-row";
    //                 rowToHide1.style.display = "none";
    //             } else {
    //                 rowToShow2.style.display = "table-row";
    //                 rowToHide1.style.display = "table-row";
    //             }
    //         });


/*TERCER TRAMO DE FECHA*/

    // "Fecha Inicial 7"
    document.querySelector(".btn-inicio7").addEventListener("click", function() {
        
        let preg5select = document.querySelector("[data-id = 'estadoGuH']")
        

       
        
        // Verificar si la fecha inicial ha sido marcada
        if (!validarpreg6 && (preg5select.value != 3 &&  preg5select.value != 6)) {
            // Mostrar el modal de alerta
            var alertModal = new bootstrap.Modal(document.getElementById('alertModal'));
            document.getElementById('alertMessage').innerText = '¡Omisión en pregunta anterior, marcar la fecha final!';
            alertModal.show();
            return; // Detener la ejecución si la fecha inicial no ha sido marcada
        }

         // Marcar que la fecha inicial ha sido marcada
         fechaInicioMarcada3 = true;

        var fechaActual = obtenerFechaHoraActual();        
        document.querySelector(".fecha-inicio7-input").value = fechaActual;        
        this.disabled = true; 
        document.querySelector(".fecha-inicio7-input").disabled = true;
    });


    
    // "Fecha Final 8"
    document.querySelector(".btn-fin8").addEventListener("click", function() {
        // Limpiar el temporizador si se marca la fecha final antes del minuto
        //clearTimeout(temporizador);
        
       
        if (!fechaInicioMarcada3) {
            // Mostrar el modal de alerta
            var alertModal = new bootstrap.Modal(document.getElementById('alertModal'));
            document.getElementById('alertMessage').innerText = '¡Omisión en pregunta anterior, marcar la fecha inicial!';
            alertModal.show();
            return; // Detener la ejecución si la fecha inicial no ha sido marcada
        }

        validarpreg8 = true
        // Verificar si la fecha inicial ha sido marcada

        var fechaActual = obtenerFechaHoraActual();        
        document.querySelector(".fecha-fin8-input").value = fechaActual;
        this.disabled = true; 
        document.querySelector(".fecha-fin8-input").disabled = true;
    }); 

/*CUARTA TRAMO DE FECHA*/

    // "Fecha Inicial 10"
    document.querySelector(".btn-inicio10").addEventListener("click", function() {
        
        // let validarlista = document.querySelectorAll("[data-validar= 'valid']")
        // let cont = 0

        // validarlista.forEach(el => {
            
        //     if(el.value == "" ){
        //         console.log("hay un campo vacio");
                
        //     }else{
        //         cont += 1 
        //     }
        // });

        

        
        // if (!validarpreg8) {
        //     // Mostrar el modal de alerta
        //     var alertModal = new bootstrap.Modal(document.getElementById('alertModal'));
        //     document.getElementById('alertMessage').innerText = '¡Omisión en pregunta anterior, marcar la fecha final!';
        //     alertModal.show();
        //     return; // Detener la ejecución si la fecha inicial no ha sido marcada
        // }

        // if(cont != validarlista.length){
        //     var alertModal = new bootstrap.Modal(document.getElementById('alertModal'));
        //     document.getElementById('alertMessage').innerText = 'Llenar todos los campos en la sección 9';
        //     alertModal.show();
        //     return;
        // }

        // Marcar que la fecha inicial ha sido marcada
        fechaInicioMarcada4 = true;

        var fechaActual = obtenerFechaHoraActual();        
        document.querySelector(".fecha-inicio10-input").value = fechaActual;        
        this.disabled = true; 
        document.querySelector(".fecha-inicio10-input").disabled = true;
    });

   
    // "Fecha Final 11"
    document.querySelector(".btn-fin11").addEventListener("click", function() {
        // Limpiar el temporizador si se marca la fecha final antes del minuto
        //clearTimeout(temporizador);
        
        
        if (!fechaInicioMarcada4) {
            // Mostrar el modal de alerta
            var alertModal = new bootstrap.Modal(document.getElementById('alertModal'));
            document.getElementById('alertMessage').innerText = '¡Omisión en pregunta anterior, marcar la fecha final!';
            alertModal.show();
            return; // Detener la ejecución si la fecha inicial no ha sido marcada
        }

        validarpreg11 = true
        // Verificar si la fecha inicial ha sido marcada

        var fechaActual = obtenerFechaHoraActual();        
        document.querySelector(".fecha-fin11-input").value = fechaActual;
        this.disabled = true; 
        document.querySelector(".fecha-fin11-input").disabled = true;
    }); 

    document.querySelector("[data-id='estadoGuA']").addEventListener("click", e => {

        if (!validarpreg11) {
            // Mostrar el modal de alerta
            var alertModal = new bootstrap.Modal(document.getElementById('alertModal'));
            document.getElementById('alertMessage').innerText = '¡Omisión en pregunta anterior, marcar la fecha final!';
            alertModal.show();
            e.target.firstElementChild.setAttribute("selected", "selected")
            return; // Detener la ejecución si la fecha inicial no ha sido marcada
        }
        
    })



    // "Fecha Final 12"
    document.querySelector(".btn-fin12").addEventListener("click", function() {
        // Limpiar el temporizador si se marca la fecha final antes del minuto
        //clearTimeout(temporizador);
        
        // Verificar si la fecha inicial ha sido marcada
        if (!fechaInicioMarcada5) {
            // Mostrar el modal de alerta
            var alertModal = new bootstrap.Modal(document.getElementById('alertModal'));
            document.getElementById('alertMessage').innerText = '¡Omisión en pregunta anterior, marcar la fecha final!';
            alertModal.show();
            return; // Detener la ejecución si la fecha inicial no ha sido marcada
        }
        var fechaActual = obtenerFechaHoraActual();        
        document.querySelector(".fecha-fin12-input").value = fechaActual;
        this.disabled = true; 
        document.querySelector(".fecha-fin12-input").disabled = true;
    }); 




    </script>
</body>
</html>
